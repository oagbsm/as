(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{824:(e,t,r)=>{"use strict";r.d(t,{OrderModeProvider:()=>i,x:()=>u});var n=r(5155),s=r(2115);let a=(0,s.createContext)(null),o="order_mode_v1";function i({children:e}){let[t,r]=(0,s.useState)("online");return(0,s.useEffect)(()=>{let e=localStorage.getItem(o);("local"===e||"online"===e)&&r(e)},[]),(0,n.jsx)(a.Provider,{value:{mode:t,setMode:function(e){r(e),localStorage.setItem(o,e)}},children:e})}function u(){let e=(0,s.useContext)(a);if(!e)throw Error("useOrderMode must be used inside OrderModeProvider");return e}},874:(e,t,r)=>{"use strict";r.d(t,{default:()=>h});var n=r(5155),s=r(3321),a=r(8500),o=r.n(a);function i({placeholder:e}){return(0,n.jsxs)(o(),{href:"/search",className:"flex-1 h-10 rounded-full bg-[#0A5F91] px-4 flex items-center gap-2 text-white text-sm",children:[(0,n.jsx)("span",{className:"opacity-80",children:"\uD83D\uDD0E"}),(0,n.jsx)("span",{className:"opacity-90",children:e})]})}var u=r(6684),l=r(8029),c=r(8561);function d(e,t,r=365){let n=new Date(Date.now()+864e5*r).toUTCString();document.cookie=`${e}=${encodeURIComponent(t)}; expires=${n}; path=/`}function x(){let e=(0,s.usePathname)()||"/",t=(0,s.useRouter)(),r="/search"===e,{lang:a,setLang:o}=(0,l.o)(),{items:x}=(0,c._)(),h="/"!==e&&(e.startsWith("/product")||e.startsWith("/subcategory")||r),m=Array.isArray(x)?x.reduce((e,t)=>e+Number(t.qty??1),0):0;return(0,n.jsx)("header",{className:"sticky top-0 z-50 bg-[#0B6EA9]",children:(0,n.jsxs)("div",{className:"mx-auto max-w-md px-3 pt-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,n.jsx)("button",{onClick:()=>window.history.length>1?t.back():t.push("/"),className:"h-10 w-10 rounded-full bg-[#0A5F91] text-white grid place-items-center","aria-label":"Back",children:"â†"}),!r&&(0,n.jsx)(i,{placeholder:"so"===a?"Maxaad rabtaa?":"Search products"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(u.A,{}),m>0&&(0,n.jsx)("div",{className:"absolute -top-1 -right-1 h-5 min-w-[18px] px-1 rounded-full bg-white text-[#0B6EA9] text-[11px] font-bold grid place-items-center",children:m})]})]}),(0,n.jsxs)("div",{className:"mt-2 pb-2 flex items-center justify-between text-white",children:[(0,n.jsxs)("div",{className:"text-xs opacity-90 flex items-center gap-1",children:["\uD83D\uDCCD ","so"===a?"Muqdisho":"Mogadishu"]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("div",{className:"flex bg-[#0A5F91] rounded-full p-1",children:[(0,n.jsx)("button",{onClick:()=>{o("so"),d("lang","so")},className:`px-2 py-1 text-[11px] rounded-full ${"so"===a?"bg-white text-[#0B6EA9]":"text-white/80"}`,children:"\uD83C\uDDF8\uD83C\uDDF4"}),(0,n.jsx)("button",{onClick:()=>{o("en"),d("lang","en")},className:`px-2 py-1 text-[11px] rounded-full ${"en"===a?"bg-white text-[#0B6EA9]":"text-white/80"}`,children:"\uD83C\uDDEC\uD83C\uDDE7"})]})})]})]})})}function h({children:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{}),e]})}},3321:(e,t,r)=>{"use strict";var n=r(4645);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},3345:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6872,23)),Promise.resolve().then(r.bind(r,874)),Promise.resolve().then(r.bind(r,8561)),Promise.resolve().then(r.bind(r,8029)),Promise.resolve().then(r.bind(r,824))},6684:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var n=r(5155),s=r(8500),a=r.n(s),o=r(8561);function i(){let{items:e}=(0,o._)(),t=(e??[]).reduce((e,t)=>e+t.qty,0);return(0,n.jsxs)(a(),{href:"/cart",className:"relative h-10 w-10 grid place-items-center rounded-full bg-[#0A5F91] text-white","aria-label":"Go to cart",children:["\uD83D\uDED2",t>0&&(0,n.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-[10px] px-1.5 rounded-full font-bold",children:t})]})}},6872:()=>{},8029:(e,t,r)=>{"use strict";r.d(t,{LanguageProvider:()=>u,o:()=>l});var n=r(5155),s=r(2115);let a=(0,s.createContext)(null),o="lang_v1",i="lang";function u({children:e}){let[t,r]=(0,s.useState)("so");return(0,s.useEffect)(()=>{let e=function(e){if("undefined"==typeof document)return"";let t=document.cookie.match(RegExp("(^| )"+e+"=([^;]+)"));return t?decodeURIComponent(t[2]):""}(i)||null,t=localStorage.getItem(o)||null;r(e||t||"so")},[]),(0,n.jsx)(a.Provider,{value:{lang:t,setLang:e=>{r(e),localStorage.setItem(o,e),function(e,t,r=365){let n=new Date;n.setTime(n.getTime()+24*r*36e5),document.cookie=`${e}=${encodeURIComponent(t)}; expires=${n.toUTCString()}; path=/`}(i,e)}},children:e})}function l(){let e=(0,s.useContext)(a);if(!e)throw Error("useLanguage must be used within LanguageProvider");return e}},8561:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>o,_:()=>i});var n=r(5155),s=r(2115);let a=(0,s.createContext)(null);function o({children:e}){let[t,r]=(0,s.useState)([]);function o(e,t){r(r=>r.filter(r=>r.productId!==e||r.variantId!==t))}return(0,s.useEffect)(()=>{let e=localStorage.getItem("cart");e&&r(JSON.parse(e))},[]),(0,s.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]),(0,n.jsx)(a.Provider,{value:{items:t,addItem:function(e,t,n=1){r(r=>r.find(r=>r.productId===e&&r.variantId===t)?r.map(r=>r.productId===e&&r.variantId===t?{...r,qty:r.qty+n}:r):[...r,{productId:e,variantId:t,qty:n}])},setQty:function(e,t,n){n<=0?o(e,t):r(r=>r.map(r=>r.productId===e&&r.variantId===t?{...r,qty:n}:r))},removeItem:o,clearCart:function(){r([])}},children:e})}function i(){let e=(0,s.useContext)(a);if(!e)throw Error("useCart must be used inside CartProvider");return e}}},e=>{e.O(0,[513,500,441,794,358],()=>e(e.s=3345)),_N_E=e.O()}]);