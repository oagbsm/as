{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/CartContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\ntype CartItem = {\n  productId: number;\n  variantId: number | null; // ‚úÖ NEW (null for products with no variants)\n  qty: number;\n};\n\ntype CartContextType = {\n  items: CartItem[];\n  addItem: (productId: number, variantId: number | null, qty?: number) => void;\n  setQty: (productId: number, variantId: number | null, qty: number) => void;\n  removeItem: (productId: number, variantId: number | null) => void;\n  clearCart: () => void;\n};\n\nconst CartContext = createContext<CartContextType | null>(null);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"cart\");\n    if (stored) setItems(JSON.parse(stored));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(items));\n  }, [items]);\n\n  function addItem(productId: number, variantId: number | null, qty = 1) {\n    setItems((prev) => {\n      const existing = prev.find(\n        (i) => i.productId === productId && i.variantId === variantId\n      );\n      if (existing) {\n        return prev.map((i) =>\n          i.productId === productId && i.variantId === variantId\n            ? { ...i, qty: i.qty + qty }\n            : i\n        );\n      }\n      return [...prev, { productId, variantId, qty }];\n    });\n  }\n\n  function setQty(productId: number, variantId: number | null, qty: number) {\n    if (qty <= 0) {\n      removeItem(productId, variantId);\n      return;\n    }\n    setItems((prev) =>\n      prev.map((i) =>\n        i.productId === productId && i.variantId === variantId ? { ...i, qty } : i\n      )\n    );\n  }\n\n  function removeItem(productId: number, variantId: number | null) {\n    setItems((prev) =>\n      prev.filter((i) => !(i.productId === productId && i.variantId === variantId))\n    );\n  }\n\n  function clearCart() {\n    setItems([]);\n  }\n\n  return (\n    <CartContext.Provider value={{ items, addItem, setQty, removeItem, clearCart }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const ctx = useContext(CartContext);\n  if (!ctx) throw new Error(\"useCart must be used inside CartProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAkBA,MAAM,4BAAc,IAAA,sNAAa,EAAyB;AAEnD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ,SAAS,KAAK,KAAK,CAAC;IAClC,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C,GAAG;QAAC;KAAM;IAEV,SAAS,QAAQ,SAAiB,EAAE,SAAwB,EAAE,MAAM,CAAC;QACnE,SAAS,CAAC;YACR,MAAM,WAAW,KAAK,IAAI,CACxB,CAAC,IAAM,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK;YAEtD,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,IACf,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YACzC;wBAAE,GAAG,CAAC;wBAAE,KAAK,EAAE,GAAG,GAAG;oBAAI,IACzB;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAW;oBAAW;gBAAI;aAAE;QACjD;IACF;IAEA,SAAS,OAAO,SAAiB,EAAE,SAAwB,EAAE,GAAW;QACtE,IAAI,OAAO,GAAG;YACZ,WAAW,WAAW;YACtB;QACF;QACA,SAAS,CAAC,OACR,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YAAY;oBAAE,GAAG,CAAC;oBAAE;gBAAI,IAAI;IAG/E;IAEA,SAAS,WAAW,SAAiB,EAAE,SAAwB;QAC7D,SAAS,CAAC,OACR,KAAK,MAAM,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,SAAS;IAE/E;IAEA,SAAS;QACP,SAAS,EAAE;IACb;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAS;YAAQ;YAAY;QAAU;kBAC1E;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/OrderModeContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\nexport type OrderMode = \"local\" | \"online\";\n\ntype Ctx = { mode: OrderMode; setMode: (m: OrderMode) => void };\n\nconst OrderModeContext = createContext<Ctx | null>(null);\nconst KEY = \"order_mode_v1\";\n\nexport function OrderModeProvider({ children }: { children: React.ReactNode }) {\n  const [mode, setModeState] = useState<OrderMode>(\"online\");\n\n  useEffect(() => {\n    const stored = localStorage.getItem(KEY);\n    if (stored === \"local\" || stored === \"online\") setModeState(stored);\n  }, []);\n\n  function setMode(m: OrderMode) {\n    setModeState(m);\n    localStorage.setItem(KEY, m);\n  }\n\n  return (\n    <OrderModeContext.Provider value={{ mode, setMode }}>\n      {children}\n    </OrderModeContext.Provider>\n  );\n}\n\nexport function useOrderMode() {\n  const ctx = useContext(OrderModeContext);\n  if (!ctx) throw new Error(\"useOrderMode must be used inside OrderModeProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAQA,MAAM,iCAAmB,IAAA,sNAAa,EAAa;AACnD,MAAM,MAAM;AAEL,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAY;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,WAAW,WAAW,WAAW,UAAU,aAAa;IAC9D,GAAG,EAAE;IAEL,SAAS,QAAQ,CAAY;QAC3B,aAAa;QACb,aAAa,OAAO,CAAC,KAAK;IAC5B;IAEA,qBACE,8OAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC/C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/LanguageContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Lang = \"so\" | \"en\";\ntype Ctx = { lang: Lang; setLang: (l: Lang) => void };\n\nconst LanguageContext = createContext<Ctx | null>(null);\n\nconst LS_KEY = \"lang_v1\";\nconst CK_KEY = \"lang\";\n\nfunction setCookie(name: string, value: string, days = 365) {\n  const d = new Date();\n  d.setTime(d.getTime() + days * 24 * 60 * 60 * 1000);\n  document.cookie = `${name}=${encodeURIComponent(value)}; expires=${d.toUTCString()}; path=/`;\n}\n\nfunction getCookie(name: string) {\n  if (typeof document === \"undefined\") return \"\";\n  const m = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]+)\"));\n  return m ? decodeURIComponent(m[2]) : \"\";\n}\n\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\n  const [lang, setLangState] = useState<Lang>(\"so\"); // ‚úÖ Somali first\n\n  useEffect(() => {\n    // cookie first, then localStorage, then default \"so\"\n    const ck = (getCookie(CK_KEY) as Lang) || null;\n    const ls = (localStorage.getItem(LS_KEY) as Lang) || null;\n\n    const initial = (ck || ls || \"so\") as Lang;\n    setLangState(initial);\n  }, []);\n\n  const setLang = (l: Lang) => {\n    setLangState(l);\n    localStorage.setItem(LS_KEY, l);\n    setCookie(CK_KEY, l);\n  };\n\n  return (\n    <LanguageContext.Provider value={{ lang, setLang }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  const ctx = useContext(LanguageContext);\n  if (!ctx) throw new Error(\"useLanguage must be used within LanguageProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAOA,MAAM,gCAAkB,IAAA,sNAAa,EAAa;AAElD,MAAM,SAAS;AACf,MAAM,SAAS;AAEf,SAAS,UAAU,IAAY,EAAE,KAAa,EAAE,OAAO,GAAG;IACxD,MAAM,IAAI,IAAI;IACd,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK,OAAO,KAAK,KAAK,KAAK;IAC9C,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,mBAAmB,OAAO,UAAU,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC;AAC9F;AAEA,SAAS,UAAU,IAAY;IAC7B,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,IAAI,SAAS,MAAM,CAAC,KAAK,CAAC,IAAI,OAAO,UAAU,OAAO;IAC5D,OAAO,IAAI,mBAAmB,CAAC,CAAC,EAAE,IAAI;AACxC;AAEO,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAO,OAAO,iBAAiB;IAEpE,IAAA,kNAAS,EAAC;QACR,qDAAqD;QACrD,MAAM,KAAK,AAAC,UAAU,WAAoB;QAC1C,MAAM,KAAK,AAAC,aAAa,OAAO,CAAC,WAAoB;QAErD,MAAM,UAAW,MAAM,MAAM;QAC7B,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,aAAa;QACb,aAAa,OAAO,CAAC,QAAQ;QAC7B,UAAU,QAAQ;IACpB;IAEA,qBACE,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC9C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/SearchBar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\nexport default function SearchBar({ placeholder }: { placeholder: string }) {\n  return (\n    <Link\n      href=\"/search\"\n      className=\"flex items-center w-full h-10 rounded-md bg-white px-3 gap-2 text-sm text-gray-700 shadow-sm border border-gray-300\"\n    >\n      {/* Left logo placeholder ‚Äì you can replace with your brand logo */}\n      <div className=\"h-5 w-5 rounded-md bg-[#0B6EA9] flex items-center justify-center text-white text-[11px] font-bold\">\n        M\n      </div>\n\n      <span className=\"flex-1 truncate text-[13px] text-gray-600 font-medium leading-snug\">\n        <span>Search </span>\n        <span className=\"font-semibold text-gray-600\">{placeholder}</span>\n        <span> items</span>\n      </span>\n\n      <span className=\"text-[#0B6EA9] text-lg\">üîç</span>\n    </Link>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,UAAU,EAAE,WAAW,EAA2B;IACxE,qBACE,8OAAC,uKAAI;QACH,MAAK;QACL,WAAU;;0BAGV,8OAAC;gBAAI,WAAU;0BAAoG;;;;;;0BAInH,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;kCAAK;;;;;;kCACN,8OAAC;wBAAK,WAAU;kCAA+B;;;;;;kCAC/C,8OAAC;kCAAK;;;;;;;;;;;;0BAGR,8OAAC;gBAAK,WAAU;0BAAyB;;;;;;;;;;;;AAG/C"}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/TopNavBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { usePathname, useRouter } from \"next/navigation\";\nimport SearchBar from \"@/components/SearchBar\";\nimport { useLanguage } from \"@/context/LanguageContext\";\n\n/* cookie helper */\nfunction setCookie(name: string, value: string, days = 365) {\n  const expires = new Date(Date.now() + days * 864e5).toUTCString();\n  document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires}; path=/`;\n}\n\nexport default function TopNavbar() {\n  const pathname = usePathname() || \"/\";\n  const router = useRouter();\n\n  const isSearchPage = pathname === \"/search\";\n\n  const { lang, setLang } = useLanguage();\n\n  const showBack =\n    pathname !== \"/\" &&\n    (pathname.startsWith(\"/product\") ||\n      pathname.startsWith(\"/subcategory\") ||\n      isSearchPage);\n\n  const placeholderCount = \"50,000+\";\n\n  return (\n<header className=\"sticky top-0 z-50 bg-gradient-to-b from-[#6FB7E6] via-[#2E8CCF] to-[#0B6EA9]\">\n  <div className=\"mx-auto max-w-md px-2 pt-2 pb-2\">\n        {/* LANGUAGE TOGGLE */}\n        <div className=\"flex justify-end mb-2\">\n          <div className=\"flex bg-white/20 backdrop-blur-sm rounded-full px-2 py-1 gap-1 text-white text-xs font-medium border border-white/30\">\n            <button\n              onClick={() => {\n                setLang(\"so\");\n                setCookie(\"lang\", \"so\");\n              }}\n              className={`px-2 py-0.5 rounded-full transition ${\n                lang === \"so\"\n                  ? \"bg-white text-[#0B6EA9]\"\n                  : \"text-white/80\"\n              }`}\n            >\n              SO\n            </button>\n            <button\n              onClick={() => {\n                setLang(\"en\");\n                setCookie(\"lang\", \"en\");\n              }}\n              className={`px-2 py-0.5 rounded-full transition ${\n                lang === \"en\"\n                  ? \"bg-white text-[#0B6EA9]\"\n                  : \"text-white/80\"\n              }`}\n            >\n              EN\n            </button>\n          </div>\n        </div>\n        {/* ===== ROW 1 ===== */}\n<div className=\"flex items-center gap-1 bg-white rounded-md px-2 py-1 shadow-sm border border-gray-200\">\n          {showBack && (\n            <button\n              onClick={() =>\n                window.history.length > 1 ? router.back() : router.push(\"/\")\n              }\n              className=\"h-10 w-10 rounded-full bg-[#0A5F91] text-white grid place-items-center\"\n              aria-label=\"Back\"\n            >\n              ‚Üê\n            </button>\n          )}\n\n          {!isSearchPage && (\n            <div className=\"flex-1\">\n              <SearchBar placeholder={placeholderCount} />\n            </div>\n          )}\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,iBAAiB,GACjB,SAAS,UAAU,IAAY,EAAE,KAAa,EAAE,OAAO,GAAG;IACxD,MAAM,UAAU,IAAI,KAAK,KAAK,GAAG,KAAK,OAAO,OAAO,WAAW;IAC/D,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,mBAAmB,OAAO,UAAU,EAAE,QAAQ,QAAQ,CAAC;AACtF;AAEe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW,OAAM;IAClC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe,aAAa;IAElC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,0IAAW;IAErC,MAAM,WACJ,aAAa,OACb,CAAC,SAAS,UAAU,CAAC,eACnB,SAAS,UAAU,CAAC,mBACpB,YAAY;IAEhB,MAAM,mBAAmB;IAEzB,qBACF,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAET,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS;oCACP,QAAQ;oCACR,UAAU,QAAQ;gCACpB;gCACA,WAAW,CAAC,oCAAoC,EAC9C,SAAS,OACL,4BACA,iBACJ;0CACH;;;;;;0CAGD,8OAAC;gCACC,SAAS;oCACP,QAAQ;oCACR,UAAU,QAAQ;gCACpB;gCACA,WAAW,CAAC,oCAAoC,EAC9C,SAAS,OACL,4BACA,iBACJ;0CACH;;;;;;;;;;;;;;;;;8BAMb,8OAAC;oBAAI,WAAU;;wBACJ,0BACC,8OAAC;4BACC,SAAS,IACP,OAAO,OAAO,CAAC,MAAM,GAAG,IAAI,OAAO,IAAI,KAAK,OAAO,IAAI,CAAC;4BAE1D,WAAU;4BACV,cAAW;sCACZ;;;;;;wBAKF,CAAC,8BACA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,mIAAS;gCAAC,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtC"}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport TopNavbar from \"@/components/TopNavBar\";\n\nexport default function AppShell({ children }: { children: React.ReactNode }) {\n  return (\n    <>\n      <TopNavbar />\n      {children}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAC1E,qBACE;;0BACE,8OAAC,mIAAS;;;;;YACT;;;AAGP"}}]
}