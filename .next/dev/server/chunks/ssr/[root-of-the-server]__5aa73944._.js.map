{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/CartContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\ntype CartItem = {\n  productId: number;\n  variantId: number | null; // ✅ NEW (null for products with no variants)\n  qty: number;\n};\n\ntype CartContextType = {\n  items: CartItem[];\n  addItem: (productId: number, variantId: number | null, qty?: number) => void;\n  setQty: (productId: number, variantId: number | null, qty: number) => void;\n  removeItem: (productId: number, variantId: number | null) => void;\n  clearCart: () => void;\n};\n\nconst CartContext = createContext<CartContextType | null>(null);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"cart\");\n    if (stored) setItems(JSON.parse(stored));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(items));\n  }, [items]);\n\n  function addItem(productId: number, variantId: number | null, qty = 1) {\n    setItems((prev) => {\n      const existing = prev.find(\n        (i) => i.productId === productId && i.variantId === variantId\n      );\n      if (existing) {\n        return prev.map((i) =>\n          i.productId === productId && i.variantId === variantId\n            ? { ...i, qty: i.qty + qty }\n            : i\n        );\n      }\n      return [...prev, { productId, variantId, qty }];\n    });\n  }\n\n  function setQty(productId: number, variantId: number | null, qty: number) {\n    if (qty <= 0) {\n      removeItem(productId, variantId);\n      return;\n    }\n    setItems((prev) =>\n      prev.map((i) =>\n        i.productId === productId && i.variantId === variantId ? { ...i, qty } : i\n      )\n    );\n  }\n\n  function removeItem(productId: number, variantId: number | null) {\n    setItems((prev) =>\n      prev.filter((i) => !(i.productId === productId && i.variantId === variantId))\n    );\n  }\n\n  function clearCart() {\n    setItems([]);\n  }\n\n  return (\n    <CartContext.Provider value={{ items, addItem, setQty, removeItem, clearCart }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const ctx = useContext(CartContext);\n  if (!ctx) throw new Error(\"useCart must be used inside CartProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAkBA,MAAM,4BAAc,IAAA,sNAAa,EAAyB;AAEnD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ,SAAS,KAAK,KAAK,CAAC;IAClC,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C,GAAG;QAAC;KAAM;IAEV,SAAS,QAAQ,SAAiB,EAAE,SAAwB,EAAE,MAAM,CAAC;QACnE,SAAS,CAAC;YACR,MAAM,WAAW,KAAK,IAAI,CACxB,CAAC,IAAM,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK;YAEtD,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,IACf,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YACzC;wBAAE,GAAG,CAAC;wBAAE,KAAK,EAAE,GAAG,GAAG;oBAAI,IACzB;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAW;oBAAW;gBAAI;aAAE;QACjD;IACF;IAEA,SAAS,OAAO,SAAiB,EAAE,SAAwB,EAAE,GAAW;QACtE,IAAI,OAAO,GAAG;YACZ,WAAW,WAAW;YACtB;QACF;QACA,SAAS,CAAC,OACR,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YAAY;oBAAE,GAAG,CAAC;oBAAE;gBAAI,IAAI;IAG/E;IAEA,SAAS,WAAW,SAAiB,EAAE,SAAwB;QAC7D,SAAS,CAAC,OACR,KAAK,MAAM,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,SAAS;IAE/E;IAEA,SAAS;QACP,SAAS,EAAE;IACb;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAS;YAAQ;YAAY;QAAU;kBAC1E;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/OrderModeContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\nexport type OrderMode = \"local\" | \"online\";\n\ntype Ctx = { mode: OrderMode; setMode: (m: OrderMode) => void };\n\nconst OrderModeContext = createContext<Ctx | null>(null);\nconst KEY = \"order_mode_v1\";\n\nexport function OrderModeProvider({ children }: { children: React.ReactNode }) {\n  const [mode, setModeState] = useState<OrderMode>(\"online\");\n\n  useEffect(() => {\n    const stored = localStorage.getItem(KEY);\n    if (stored === \"local\" || stored === \"online\") setModeState(stored);\n  }, []);\n\n  function setMode(m: OrderMode) {\n    setModeState(m);\n    localStorage.setItem(KEY, m);\n  }\n\n  return (\n    <OrderModeContext.Provider value={{ mode, setMode }}>\n      {children}\n    </OrderModeContext.Provider>\n  );\n}\n\nexport function useOrderMode() {\n  const ctx = useContext(OrderModeContext);\n  if (!ctx) throw new Error(\"useOrderMode must be used inside OrderModeProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAQA,MAAM,iCAAmB,IAAA,sNAAa,EAAa;AACnD,MAAM,MAAM;AAEL,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAY;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,WAAW,WAAW,WAAW,UAAU,aAAa;IAC9D,GAAG,EAAE;IAEL,SAAS,QAAQ,CAAY;QAC3B,aAAa;QACb,aAAa,OAAO,CAAC,KAAK;IAC5B;IAEA,qBACE,8OAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC/C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/LanguageContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\ntype Lang = \"so\" | \"en\";\ntype Ctx = { lang: Lang; setLang: (l: Lang) => void };\n\nconst LanguageContext = createContext<Ctx | null>(null);\n\nconst LS_KEY = \"lang_v1\";\nconst CK_KEY = \"lang\";\n\nfunction setCookie(name: string, value: string, days = 365) {\n  const d = new Date();\n  d.setTime(d.getTime() + days * 24 * 60 * 60 * 1000);\n  document.cookie = `${name}=${encodeURIComponent(value)}; expires=${d.toUTCString()}; path=/`;\n}\n\nfunction getCookie(name: string) {\n  if (typeof document === \"undefined\") return \"\";\n  const m = document.cookie.match(new RegExp(\"(^| )\" + name + \"=([^;]+)\"));\n  return m ? decodeURIComponent(m[2]) : \"\";\n}\n\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\n  const [lang, setLangState] = useState<Lang>(\"so\"); // ✅ Somali first\n\n  useEffect(() => {\n    // cookie first, then localStorage, then default \"so\"\n    const ck = (getCookie(CK_KEY) as Lang) || null;\n    const ls = (localStorage.getItem(LS_KEY) as Lang) || null;\n\n    const initial = (ck || ls || \"so\") as Lang;\n    setLangState(initial);\n  }, []);\n\n  const setLang = (l: Lang) => {\n    setLangState(l);\n    localStorage.setItem(LS_KEY, l);\n    setCookie(CK_KEY, l);\n  };\n\n  return (\n    <LanguageContext.Provider value={{ lang, setLang }}>\n      {children}\n    </LanguageContext.Provider>\n  );\n}\n\nexport function useLanguage() {\n  const ctx = useContext(LanguageContext);\n  if (!ctx) throw new Error(\"useLanguage must be used within LanguageProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAOA,MAAM,gCAAkB,IAAA,sNAAa,EAAa;AAElD,MAAM,SAAS;AACf,MAAM,SAAS;AAEf,SAAS,UAAU,IAAY,EAAE,KAAa,EAAE,OAAO,GAAG;IACxD,MAAM,IAAI,IAAI;IACd,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK,OAAO,KAAK,KAAK,KAAK;IAC9C,SAAS,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,mBAAmB,OAAO,UAAU,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC;AAC9F;AAEA,SAAS,UAAU,IAAY;IAC7B,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,IAAI,SAAS,MAAM,CAAC,KAAK,CAAC,IAAI,OAAO,UAAU,OAAO;IAC5D,OAAO,IAAI,mBAAmB,CAAC,CAAC,EAAE,IAAI;AACxC;AAEO,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAO,OAAO,iBAAiB;IAEpE,IAAA,kNAAS,EAAC;QACR,qDAAqD;QACrD,MAAM,KAAK,AAAC,UAAU,WAAoB;QAC1C,MAAM,KAAK,AAAC,aAAa,OAAO,CAAC,WAAoB;QAErD,MAAM,UAAW,MAAM,MAAM;QAC7B,aAAa;IACf,GAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,aAAa;QACb,aAAa,OAAO,CAAC,QAAQ;QAC7B,UAAU,QAAQ;IACpB;IAEA,qBACE,8OAAC,gBAAgB,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC9C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/TopNavBar.tsx"],"sourcesContent":["import { Metadata } from \"next\";\nimport { getCategoryWithSubcategories } from \"@/lib/api\";\n\ntype CategoryPageProps = {\n  params: Promise<{\n    slug: string;\n  }>;\n};\n\nexport async function generateMetadata(\n  { params }: CategoryPageProps\n): Promise<Metadata> {\n  const { slug } = await params;\n  const data = await getCategoryWithSubcategories(slug);\n  return {\n    title: data?.category?.name || \"Category\",\n    description: `Browse products in the ${data?.category?.name || \"category\"}.`,\n  };\n}\n\nexport default async function CategoryPage({ params }: CategoryPageProps) {\n  const { slug } = await params;\n  const data = await getCategoryWithSubcategories(slug);\n\n  return (\n    <div>\n      <h1>{data?.category?.name}</h1>\n      {/* Render subcategories and products */}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AASO,eAAe,iBACpB,EAAE,MAAM,EAAqB;IAE7B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,OAAO,MAAM,6BAA6B;IAChD,OAAO;QACL,OAAO,MAAM,UAAU,QAAQ;QAC/B,aAAa,CAAC,uBAAuB,EAAE,MAAM,UAAU,QAAQ,WAAW,CAAC,CAAC;IAC9E;AACF;AAEe,eAAe,aAAa,EAAE,MAAM,EAAqB;IACtE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM;IACvB,MAAM,OAAO,MAAM,6BAA6B;IAEhD,qBACE,8OAAC;kBACC,cAAA,8OAAC;sBAAI,MAAM,UAAU;;;;;;;;;;;AAI3B"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport TopNavbar from \"@/components/TopNavBar\";\n\nexport default function AppShell({ children }: { children: React.ReactNode }) {\n  return (\n    <>\n      <TopNavbar />\n      {children}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAC1E,qBACE;;0BACE,8OAAC,mIAAS;;;;;YACT;;;AAGP"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}