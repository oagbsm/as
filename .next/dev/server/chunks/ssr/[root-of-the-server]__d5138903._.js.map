{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/CartContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState } from \"react\";\n\ntype CartItem = {\n  productId: number;\n  variantId: number | null; // ‚úÖ NEW (null for products with no variants)\n  qty: number;\n};\n\ntype CartContextType = {\n  items: CartItem[];\n  addItem: (productId: number, variantId: number | null, qty?: number) => void;\n  setQty: (productId: number, variantId: number | null, qty: number) => void;\n  removeItem: (productId: number, variantId: number | null) => void;\n  clearCart: () => void;\n};\n\nconst CartContext = createContext<CartContextType | null>(null);\n\nexport function CartProvider({ children }: { children: React.ReactNode }) {\n  const [items, setItems] = useState<CartItem[]>([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"cart\");\n    if (stored) setItems(JSON.parse(stored));\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(items));\n  }, [items]);\n\n  function addItem(productId: number, variantId: number | null, qty = 1) {\n    setItems((prev) => {\n      const existing = prev.find(\n        (i) => i.productId === productId && i.variantId === variantId\n      );\n      if (existing) {\n        return prev.map((i) =>\n          i.productId === productId && i.variantId === variantId\n            ? { ...i, qty: i.qty + qty }\n            : i\n        );\n      }\n      return [...prev, { productId, variantId, qty }];\n    });\n  }\n\n  function setQty(productId: number, variantId: number | null, qty: number) {\n    if (qty <= 0) {\n      removeItem(productId, variantId);\n      return;\n    }\n    setItems((prev) =>\n      prev.map((i) =>\n        i.productId === productId && i.variantId === variantId ? { ...i, qty } : i\n      )\n    );\n  }\n\n  function removeItem(productId: number, variantId: number | null) {\n    setItems((prev) =>\n      prev.filter((i) => !(i.productId === productId && i.variantId === variantId))\n    );\n  }\n\n  function clearCart() {\n    setItems([]);\n  }\n\n  return (\n    <CartContext.Provider value={{ items, addItem, setQty, removeItem, clearCart }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport function useCart() {\n  const ctx = useContext(CartContext);\n  if (!ctx) throw new Error(\"useCart must be used inside CartProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAkBA,MAAM,4BAAc,IAAA,sNAAa,EAAyB;AAEnD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACtE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAa,EAAE;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ,SAAS,KAAK,KAAK,CAAC;IAClC,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;IAC9C,GAAG;QAAC;KAAM;IAEV,SAAS,QAAQ,SAAiB,EAAE,SAAwB,EAAE,MAAM,CAAC;QACnE,SAAS,CAAC;YACR,MAAM,WAAW,KAAK,IAAI,CACxB,CAAC,IAAM,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK;YAEtD,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,IACf,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YACzC;wBAAE,GAAG,CAAC;wBAAE,KAAK,EAAE,GAAG,GAAG;oBAAI,IACzB;YAER;YACA,OAAO;mBAAI;gBAAM;oBAAE;oBAAW;oBAAW;gBAAI;aAAE;QACjD;IACF;IAEA,SAAS,OAAO,SAAiB,EAAE,SAAwB,EAAE,GAAW;QACtE,IAAI,OAAO,GAAG;YACZ,WAAW,WAAW;YACtB;QACF;QACA,SAAS,CAAC,OACR,KAAK,GAAG,CAAC,CAAC,IACR,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,YAAY;oBAAE,GAAG,CAAC;oBAAE;gBAAI,IAAI;IAG/E;IAEA,SAAS,WAAW,SAAiB,EAAE,SAAwB;QAC7D,SAAS,CAAC,OACR,KAAK,MAAM,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,SAAS,KAAK,aAAa,EAAE,SAAS,KAAK,SAAS;IAE/E;IAEA,SAAS;QACP,SAAS,EAAE;IACb;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAS;YAAQ;YAAY;QAAU;kBAC1E;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/OrderModeContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\n\nexport type OrderMode = \"local\" | \"online\";\n\ntype Ctx = { mode: OrderMode; setMode: (m: OrderMode) => void };\n\nconst OrderModeContext = createContext<Ctx | null>(null);\nconst KEY = \"order_mode_v1\";\n\nexport function OrderModeProvider({ children }: { children: React.ReactNode }) {\n  const [mode, setModeState] = useState<OrderMode>(\"online\");\n\n  useEffect(() => {\n    const stored = localStorage.getItem(KEY);\n    if (stored === \"local\" || stored === \"online\") setModeState(stored);\n  }, []);\n\n  function setMode(m: OrderMode) {\n    setModeState(m);\n    localStorage.setItem(KEY, m);\n  }\n\n  return (\n    <OrderModeContext.Provider value={{ mode, setMode }}>\n      {children}\n    </OrderModeContext.Provider>\n  );\n}\n\nexport function useOrderMode() {\n  const ctx = useContext(OrderModeContext);\n  if (!ctx) throw new Error(\"useOrderMode must be used inside OrderModeProvider\");\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAQA,MAAM,iCAAmB,IAAA,sNAAa,EAAa;AACnD,MAAM,MAAM;AAEL,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;IAC3E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAY;IAEjD,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,WAAW,WAAW,WAAW,UAAU,aAAa;IAC9D,GAAG,EAAE;IAEL,SAAS,QAAQ,CAAY;QAC3B,aAAa;QACb,aAAa,OAAO,CAAC,KAAK;IAC5B;IAEA,qBACE,8OAAC,iBAAiB,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAC/C;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/lib/langCookie.ts"],"sourcesContent":["export type Lang = \"so\" | \"en\";\n\nconst COOKIE_NAME = \"lang\";\n\nexport function getLangCookie(): Lang | null {\n  if (typeof document === \"undefined\") return null;\n  const match = document.cookie\n    .split(\"; \")\n    .find((row) => row.startsWith(`${COOKIE_NAME}=`));\n  if (!match) return null;\n\n  const value = decodeURIComponent(match.split(\"=\")[1] || \"\");\n  return value === \"so\" || value === \"en\" ? value : null;\n}\n\nexport function setLangCookie(lang: Lang) {\n  if (typeof document === \"undefined\") return;\n  // 180 days\n  const maxAge = 60 * 60 * 24 * 180;\n  document.cookie = `${COOKIE_NAME}=${encodeURIComponent(lang)}; Path=/; Max-Age=${maxAge}; SameSite=Lax`;\n}\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,cAAc;AAEb,SAAS;IACd,IAAI,OAAO,aAAa,aAAa,OAAO;IAC5C,MAAM,QAAQ,SAAS,MAAM,CAC1B,KAAK,CAAC,MACN,IAAI,CAAC,CAAC,MAAQ,IAAI,UAAU,CAAC,GAAG,YAAY,CAAC,CAAC;IACjD,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,QAAQ,mBAAmB,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;IACxD,OAAO,UAAU,QAAQ,UAAU,OAAO,QAAQ;AACpD;AAEO,SAAS,cAAc,IAAU;IACtC,IAAI,OAAO,aAAa,aAAa;IACrC,WAAW;IACX,MAAM,SAAS,KAAK,KAAK,KAAK;IAC9B,SAAS,MAAM,GAAG,GAAG,YAAY,CAAC,EAAE,mBAAmB,MAAM,kBAAkB,EAAE,OAAO,cAAc,CAAC;AACzG"}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/context/LanguageContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport type { Lang } from \"@/lib/langCookie\";\nimport { getLangCookie, setLangCookie } from \"@/lib/langCookie\";\n\ntype LanguageCtx = {\n  lang: Lang;\n  setLang: (l: Lang) => void;\n  ready: boolean; // cookie loaded\n};\n\nconst Ctx = createContext<LanguageCtx | null>(null);\n\nexport function LanguageProvider({ children }: { children: React.ReactNode }) {\n  const [lang, setLangState] = useState<Lang>(\"so\"); // default Somali\n  const [ready, setReady] = useState(false);\n\n  useEffect(() => {\n    const saved = getLangCookie();\n    if (saved) setLangState(saved);\n    setReady(true);\n  }, []);\n\n  const setLang = (l: Lang) => {\n    setLangState(l);\n    setLangCookie(l);\n  };\n\n  return <Ctx.Provider value={{ lang, setLang, ready }}>{children}</Ctx.Provider>;\n}\n\nexport function useLanguage() {\n  const v = useContext(Ctx);\n  if (!v) throw new Error(\"useLanguage must be used inside LanguageProvider\");\n  return v;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAJA;;;;AAYA,MAAM,oBAAM,IAAA,sNAAa,EAAqB;AAEvC,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,MAAM,aAAa,GAAG,IAAA,iNAAQ,EAAO,OAAO,iBAAiB;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,IAAA,kIAAa;QAC3B,IAAI,OAAO,aAAa;QACxB,SAAS;IACX,GAAG,EAAE;IAEL,MAAM,UAAU,CAAC;QACf,aAAa;QACb,IAAA,kIAAa,EAAC;IAChB;IAEA,qBAAO,8OAAC,IAAI,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAM;kBAAI;;;;;;AACzD;AAEO,SAAS;IACd,MAAM,IAAI,IAAA,mNAAU,EAAC;IACrB,IAAI,CAAC,GAAG,MAAM,IAAI,MAAM;IACxB,OAAO;AACT"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/SearchBar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\n\nexport default function SearchBar({ placeholder }: { placeholder: string }) {\n  return (\n    <Link\n      href=\"/search\"\n      className=\"flex-1 h-10 rounded-full bg-[#0A5F91] px-4 flex items-center gap-2 text-white text-sm\"\n    >\n      <span className=\"opacity-80\">üîé</span>\n      <span className=\"opacity-90\">{placeholder}</span>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,UAAU,EAAE,WAAW,EAA2B;IACxE,qBACE,8OAAC,uKAAI;QACH,MAAK;QACL,WAAU;;0BAEV,8OAAC;gBAAK,WAAU;0BAAa;;;;;;0BAC7B,8OAAC;gBAAK,WAAU;0BAAc;;;;;;;;;;;;AAGpC"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/CartIcon.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useCart } from \"@/context/CartContext\";\n\nexport default function CartIcon() {\n  const { items } = useCart();\n  const count = (items ?? []).reduce((s, i) => s + i.qty, 0);\n\n  return (\n    <Link\n      href=\"/cart\"\n      className=\"relative h-10 w-10 grid place-items-center rounded-full bg-[#0A5F91] text-white\"\n      aria-label=\"Go to cart\"\n    >\n      üõí\n      {count > 0 && (\n        <span className=\"absolute -top-1 -right-1 bg-red-500 text-[10px] px-1.5 rounded-full font-bold\">\n          {count}\n        </span>\n      )}\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,kIAAO;IACzB,MAAM,QAAQ,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,EAAE,GAAG,EAAE;IAExD,qBACE,8OAAC,uKAAI;QACH,MAAK;QACL,WAAU;QACV,cAAW;;YACZ;YAEE,QAAQ,mBACP,8OAAC;gBAAK,WAAU;0BACb;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 288, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/TopNavBar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport SearchBar from \"@/components/SearchBar\";\nimport CartIcon from \"@/components/CartIcon\";\nimport { useOrderMode } from \"@/context/OrderModeContext\";\nimport { useLanguage } from \"@/context/LanguageContext\";\n\nexport default function TopNavbar({\n  locationText = \"Deliver to: Mogadishu\",\n  showBack = false,\n  backHref = \"/\",\n  rightSlot,\n}: {\n  locationText?: string;\n  showBack?: boolean;\n  backHref?: string;\n  rightSlot?: React.ReactNode;\n}) {\n  const { mode, setMode } = useOrderMode();\n  const { lang } = useLanguage();\n\n  return (\n    <header className=\"sticky top-0 z-50 bg-[#0B6EA9]\">\n      <div className=\"mx-auto max-w-md px-3 pt-2\">\n        {/* ROW 1: Back + Search + Cart + Right slot */}\n        <div className=\"flex items-center gap-2\">\n          {showBack && (\n            <Link\n              href={backHref}\n              className=\"h-10 w-10 rounded-full bg-[#0A5F91] text-white grid place-items-center\"\n              aria-label={lang === \"en\" ? \"Back\" : \"Dib u noqo\"}\n              title={lang === \"en\" ? \"Back\" : \"Dib u noqo\"}\n            >\n              ‚Üê\n            </Link>\n          )}\n\n          {/* Bilingual SearchBar (handles language internally) */}\n          <SearchBar />\n\n          <CartIcon />\n\n          {rightSlot ?? null}\n        </div>\n\n        {/* ROW 2: Location + Order Mode */}\n        <div className=\"mt-2 pb-2 flex items-center justify-between\">\n          <div className=\"text-white/90 flex items-center gap-2\">\n            <span className=\"text-sm\">üìç</span>\n            <span className=\"text-xs font-semibold\">{locationText}</span>\n          </div>\n\n          <div className=\"flex items-center gap-1 rounded-full bg-[#0A5F91] p-1\">\n            <button\n              onClick={() => setMode(\"local\")}\n              className={`px-2.5 py-1 rounded-full text-[11px] font-extrabold transition ${\n                mode === \"local\"\n                  ? \"bg-white text-[#0B6EA9]\"\n                  : \"text-white/90\"\n              }`}\n            >\n              <div className=\"leading-tight text-center\">\n                <div>{lang === \"en\" ? \"In-store\" : \"Gudaha\"}</div>\n                <div className=\"text-[9px] opacity-80\">\n                  {lang === \"en\" ? \"Gudaha\" : \"In-store\"}\n                </div>\n              </div>\n            </button>\n\n            <button\n              onClick={() => setMode(\"online\")}\n              className={`px-2.5 py-1 rounded-full text-[11px] font-extrabold transition ${\n                mode === \"online\"\n                  ? \"bg-white text-[#0B6EA9]\"\n                  : \"text-white/90\"\n              }`}\n            >\n              <div className=\"leading-tight text-center\">\n                <div>Online</div>\n                <div className=\"text-[9px] opacity-80\">\n                  {lang === \"en\" ? \"Delivery\" : \"Geyn\"}\n                </div>\n              </div>\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS,UAAU,EAChC,eAAe,uBAAuB,EACtC,WAAW,KAAK,EAChB,WAAW,GAAG,EACd,SAAS,EAMV;IACC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,4IAAY;IACtC,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,0IAAW;IAE5B,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;wBACZ,0BACC,8OAAC,uKAAI;4BACH,MAAM;4BACN,WAAU;4BACV,cAAY,SAAS,OAAO,SAAS;4BACrC,OAAO,SAAS,OAAO,SAAS;sCACjC;;;;;;sCAMH,8OAAC,mIAAS;;;;;sCAEV,8OAAC,kIAAQ;;;;;wBAER,aAAa;;;;;;;8BAIhB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAU;;;;;;8CAC1B,8OAAC;oCAAK,WAAU;8CAAyB;;;;;;;;;;;;sCAG3C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,QAAQ;oCACvB,WAAW,CAAC,+DAA+D,EACzE,SAAS,UACL,4BACA,iBACJ;8CAEF,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK,SAAS,OAAO,aAAa;;;;;;0DACnC,8OAAC;gDAAI,WAAU;0DACZ,SAAS,OAAO,WAAW;;;;;;;;;;;;;;;;;8CAKlC,8OAAC;oCACC,SAAS,IAAM,QAAQ;oCACvB,WAAW,CAAC,+DAA+D,EACzE,SAAS,WACL,4BACA,iBACJ;8CAEF,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAI;;;;;;0DACL,8OAAC;gDAAI,WAAU;0DACZ,SAAS,OAAO,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShD"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/components/AppShell.tsx"],"sourcesContent":["\"use client\";\n\nimport TopNavbar from \"@/components/TopNavBar\";\n\nexport default function AppShell({ children }: { children: React.ReactNode }) {\n  return (\n    <>\n      <TopNavbar />\n      {children}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAC1E,qBACE;;0BACE,8OAAC,mIAAS;;;;;YACT;;;AAGP"}}]
}