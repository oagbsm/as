{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/lib/supabaseClient.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\n\nexport const supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n);\n"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,iMAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/app/admin/products/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState, FormEvent } from \"react\";\nimport Link from \"next/link\";\nimport { supabase } from \"@/lib/supabaseClient\";\n\ntype Category = {\n  id: number;\n  name_en: string;\n  slug: string;\n};\n\ntype Brand = {\n  id: number;\n  name: string;\n  slug: string;\n};\n\ntype ProductRow = {\n  id: number;\n  name: string;\n  slug: string;\n  base_price: number | null;\n  category_id: number | null;\n  subcategory_id: number | null;\n  brand_id: number | null;\n  is_active: boolean;\n  is_concept: boolean;\n  is_discounted: boolean;\n  tags: string[] | null;\n};\n\ntype VariantRow = {\n  id?: number;\n  label: string;\n  price: string;\n  mrp: string;\n  stock: string;\n  sku: string;\n};\n\nfunction slugify(value: string): string {\n  return value\n    .toLowerCase()\n    .trim()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n}\n\nexport default function AdminProductsPage() {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [brands, setBrands] = useState<Brand[]>([]);\n  const [products, setProducts] = useState<ProductRow[]>([]);\n\n  const [loadingList, setLoadingList] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [status, setStatus] = useState<\n    null | { type: \"success\" | \"error\"; message: string }\n  >(null);\n\n  const [search, setSearch] = useState(\"\");\n  const [filterCategoryId, setFilterCategoryId] = useState<number | \"\">(\"\");\n\n  const [selectedProductId, setSelectedProductId] = useState<number | null>(null);\n\n  // editable fields for selected product\n  const [editName, setEditName] = useState(\"\");\n  const [editSlug, setEditSlug] = useState(\"\");\n  const [editBasePrice, setEditBasePrice] = useState(\"\");\n  const [editIsActive, setEditIsActive] = useState(true);\n  const [editIsConcept, setEditIsConcept] = useState(false);\n  const [editIsDiscounted, setEditIsDiscounted] = useState(false);\n  const [editTags, setEditTags] = useState(\"\");\n\n  // variants for selected product\n  const [variantRows, setVariantRows] = useState<VariantRow[]>([]);\n\n  // ---- LOAD META + PRODUCTS ----\n  useEffect(() => {\n    const load = async () => {\n      setLoadingList(true);\n      setStatus(null);\n\n      const [catRes, brandRes, prodRes] = await Promise.all([\n        supabase.from(\"categories\").select(\"id,name_en,slug\").order(\"id\"),\n        supabase.from(\"brands\").select(\"id,name,slug\").order(\"name\"),\n        supabase\n          .from(\"products\")\n          .select(\n            \"id,name,slug,base_price,category_id,subcategory_id,brand_id,is_active,is_concept,is_discounted,tags\"\n          )\n          .order(\"id\", { ascending: true }),\n      ]);\n\n      if (!catRes.error && catRes.data) setCategories(catRes.data as Category[]);\n      if (!brandRes.error && brandRes.data) setBrands(brandRes.data as Brand[]);\n      if (!prodRes.error && prodRes.data) setProducts(prodRes.data as ProductRow[]);\n      if (prodRes.error) {\n        setStatus({ type: \"error\", message: prodRes.error.message });\n      }\n\n      setLoadingList(false);\n    };\n\n    load();\n  }, []);\n\n  const filteredProducts = products.filter((p) => {\n    if (filterCategoryId && p.category_id !== Number(filterCategoryId)) return false;\n\n    if (!search.trim()) return true;\n    const q = search.toLowerCase();\n    return (\n      p.name.toLowerCase().includes(q) ||\n      p.slug.toLowerCase().includes(q) ||\n      (p.tags || []).some((t) => t.toLowerCase().includes(q))\n    );\n  });\n\n  // ---- LOAD ONE PRODUCT INTO EDITOR ----\n  const loadProductDetails = async (product: ProductRow) => {\n    setSelectedProductId(product.id);\n    setEditName(product.name);\n    setEditSlug(product.slug);\n    setEditBasePrice(product.base_price != null ? String(product.base_price) : \"\");\n    setEditIsActive(product.is_active);\n    setEditIsConcept(product.is_concept);\n    setEditIsDiscounted(product.is_discounted);\n    setEditTags((product.tags || []).join(\", \"));\n\nconst { data: variants, error } = await supabase\n  .from(\"product_variants\")\n  .select(\"id,label,price,mrp,stock,sku\")\n  .eq(\"product_id\", product.id)\n  .order(\"id\");\n\n    if (error) {\n      console.error(error);\n      setVariantRows([]);\n      setStatus({ type: \"error\", message: \"Failed to load variants for this product.\" });\n      return;\n    }\n\nconst vs: VariantRow[] =\n  variants?.map((v: any) => ({\n    id: v.id,\n    label: v.label ?? \"\",\n    price: v.price != null ? String(v.price) : \"\",\n    mrp: v.mrp != null ? String(v.mrp) : \"\",\n    stock: v.stock != null ? String(v.stock) : \"\",\n    sku: v.sku ?? \"\",\n  })) || [];\n\nif (vs.length === 0) {\n  vs.push({ label: \"\", price: \"\", mrp: \"\", stock: \"\", sku: \"\" });\n}\n    setVariantRows(vs);\n  };\n\n  // ---- SAVE PRODUCT + VARIANTS ----\n  const handleSave = async (e: FormEvent) => {\n    e.preventDefault();\n    if (!selectedProductId) return;\n\n    if (!editName.trim() || !editSlug.trim()) {\n      setStatus({\n        type: \"error\",\n        message: \"Name and slug are required for the product.\",\n      });\n      return;\n    }\n\n    setSaving(true);\n    setStatus(null);\n\n    try {\n      const { error: prodError } = await supabase\n        .from(\"products\")\n        .update({\n          name: editName.trim(),\n          slug: slugify(editSlug),\n          base_price: editBasePrice ? Number(editBasePrice) : null,\n          is_active: editIsActive,\n          is_concept: editIsConcept,\n          is_discounted: editIsDiscounted,\n          tags: editTags\n            ? editTags\n                .split(\",\")\n                .map((t) => t.trim())\n                .filter(Boolean)\n            : null,\n        })\n        .eq(\"id\", selectedProductId);\n\n      if (prodError) {\n        throw new Error(prodError.message);\n      }\n\n      setProducts((prev) =>\n        prev.map((p) =>\n          p.id === selectedProductId\n            ? {\n                ...p,\n                name: editName.trim(),\n                slug: slugify(editSlug),\n                base_price: editBasePrice ? Number(editBasePrice) : null,\n                is_active: editIsActive,\n                is_concept: editIsConcept,\n                is_discounted: editIsDiscounted,\n                tags: editTags\n                  ? editTags\n                      .split(\",\")\n                      .map((t) => t.trim())\n                      .filter(Boolean)\n                  : null,\n              }\n            : p\n        )\n      );\n\n      const cleanVariants = variantRows.filter((v) => v.label && v.price);\n\n      // Always sync variants by: delete all for this product, then insert current rows.\n      // This avoids any manual handling of the identity `id` column.\n      const { error: delError } = await supabase\n        .from(\"product_variants\")\n        .delete()\n        .eq(\"product_id\", selectedProductId);\n\n      if (delError) {\n        throw new Error(delError.message);\n      }\n\n      if (cleanVariants.length > 0) {\n        const payload = cleanVariants.map((v, idx) => {\n          const baseSkuPart =\n            (v.sku && v.sku.trim()) ||\n            slugify(v.label) ||\n            `var-${selectedProductId}-${idx + 1}`;\n\n          const sku = `P${selectedProductId}-${baseSkuPart}`;\n\n          return {\n            product_id: selectedProductId,\n            label: v.label.trim(),\n            price: Number(v.price),\n            mrp: v.mrp ? Number(v.mrp) : Number(v.price),\n            stock: v.stock ? Number(v.stock) : 0,\n            sku,\n          };\n        });\n\n        const { error: insError } = await supabase\n          .from(\"product_variants\")\n          .insert(payload);\n\n        if (insError) {\n          throw new Error(insError.message);\n        }\n      }\n\n      setStatus({ type: \"success\", message: \"Product and variants saved.\" });\n    } catch (err: any) {\n      console.error(err);\n      setStatus({\n        type: \"error\",\n        message: err?.message || \"Failed to save product.\",\n      });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 text-gray-900 px-4 py-6\">\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"mb-3 flex items-center justify-between text-xs\">\n          <Link href=\"/admin\" className=\"text-blue-600 hover:underline\">\n            ← Back to admin\n          </Link>\n          <span className=\"text-gray-500\">Products admin</span>\n        </div>\n\n        <div className=\"flex flex-col gap-4 md:flex-row\">\n          {/* LEFT SIDE: LIST */}\n          <div className=\"md:w-1/2 border rounded bg-white p-3 flex flex-col gap-3\">\n            <div className=\"flex items-center justify-between\">\n              <h1 className=\"text-sm font-semibold\">Products</h1>\n              {loadingList && (\n                <span className=\"text-[11px] text-gray-500\">Loading...</span>\n              )}\n            </div>\n\n            <div className=\"flex flex-col gap-2 text-xs\">\n              <input\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                placeholder=\"Search by name, slug, or tag\"\n                className=\"border rounded px-2 py-1.5 text-xs\"\n              />\n              <div className=\"flex gap-2 items-center\">\n                <select\n                  value={filterCategoryId}\n                  onChange={(e) =>\n                    setFilterCategoryId(\n                      e.target.value ? Number(e.target.value) : \"\"\n                    )\n                  }\n                  className=\"border rounded px-2 py-1.5 text-xs flex-1\"\n                >\n                  <option value=\"\">All categories</option>\n                  {categories.map((c) => (\n                    <option key={c.id} value={c.id}>\n                      {c.name_en}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n\n            <div className=\"mt-2 border-t pt-2 max-h-[70vh] overflow-y-auto\">\n              {filteredProducts.length === 0 && (\n                <div className=\"text-[11px] text-gray-500\">\n                  No products found. Try clearing filters.\n                </div>\n              )}\n              <ul className=\"space-y-1 text-xs\">\n                {filteredProducts.map((p) => {\n                  const brand = brands.find((b) => b.id === p.brand_id);\n                  const isSelected = p.id === selectedProductId;\n                  return (\n                    <li key={p.id}>\n                      <button\n                        type=\"button\"\n                        onClick={() => loadProductDetails(p)}\n                        className={`w-full text-left px-2 py-1.5 rounded border ${\n                          isSelected\n                            ? \"border-blue-500 bg-blue-50\"\n                            : \"border-transparent hover:border-gray-200\"\n                        }`}\n                      >\n                        <div className=\"flex justify-between items-center gap-2\">\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"truncate font-medium\">{p.name}</div>\n                            <div className=\"text-[10px] text-gray-500 truncate\">\n                              /product/{p.slug}\n                            </div>\n                          </div>\n                          <div className=\"flex flex-col items-end gap-0.5\">\n                            {p.base_price != null && (\n                              <span className=\"text-[11px] text-gray-800\">\n                                ${Number(p.base_price).toFixed(2)}\n                              </span>\n                            )}\n                            {brand && (\n                              <span className=\"text-[10px] text-gray-500\">\n                                {brand.name}\n                              </span>\n                            )}\n                            <span className=\"text-[9px]\">\n                              {p.is_active ? \"Active\" : \"Hidden\"}\n                              {p.is_concept ? \" · Concept\" : \"\"}\n                            </span>\n                          </div>\n                        </div>\n                      </button>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          </div>\n\n          {/* RIGHT SIDE: EDITOR */}\n          <div className=\"md:w-1/2 border rounded bg-white p-3 text-sm\">\n            {status && (\n              <div\n                className={`mb-3 rounded border px-3 py-2 text-xs ${\n                  status.type === \"success\"\n                    ? \"border-green-500 bg-green-50 text-green-800\"\n                    : \"border-red-500 bg-red-50 text-red-800\"\n                }`}\n              >\n                {status.message}\n              </div>\n            )}\n\n            {!selectedProductId ? (\n              <div className=\"text-xs text-gray-500\">\n                Select a product on the left to edit its details and variants.\n              </div>\n            ) : (\n              <form onSubmit={handleSave} className=\"space-y-4\">\n                <h2 className=\"text-xs font-semibold uppercase text-gray-700\">\n                  Edit product\n                </h2>\n\n                <div className=\"grid gap-3 md:grid-cols-2\">\n                  <div className=\"flex flex-col gap-1\">\n                    <label className=\"text-xs text-gray-600\">Name</label>\n                    <input\n                      value={editName}\n                      onChange={(e) => setEditName(e.target.value)}\n                      className=\"border rounded px-2 py-1.5 text-sm\"\n                    />\n                  </div>\n                  <div className=\"flex flex-col gap-1\">\n                    <label className=\"text-xs text-gray-600\">Slug</label>\n                    <input\n                      value={editSlug}\n                      onChange={(e) => setEditSlug(e.target.value)}\n                      className=\"border rounded px-2 py-1.5 text-sm\"\n                    />\n                    <p className=\"text-[10px] text-gray-500\">\n                      /product/{slugify(editSlug || \"slug\")}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"grid gap-3 md:grid-cols-4 items-center\">\n                  <div className=\"flex flex-col gap-1\">\n                    <label className=\"text-xs text-gray-600\">Base price</label>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      value={editBasePrice}\n                      onChange={(e) => setEditBasePrice(e.target.value)}\n                      className=\"border rounded px-2 py-1.5 text-sm\"\n                    />\n                  </div>\n\n                  <label className=\"flex items-center gap-2 text-xs text-gray-700\">\n                    <input\n                      type=\"checkbox\"\n                      checked={editIsActive}\n                      onChange={(e) => setEditIsActive(e.target.checked)}\n                    />\n                    Active\n                  </label>\n\n                  <label className=\"flex items-center gap-2 text-xs text-gray-700\">\n                    <input\n                      type=\"checkbox\"\n                      checked={editIsDiscounted}\n                      onChange={(e) =>\n                        setEditIsDiscounted(e.target.checked)\n                      }\n                    />\n                    Discounted\n                  </label>\n\n                  <label className=\"flex items-center gap-2 text-xs text-gray-700\">\n                    <input\n                      type=\"checkbox\"\n                      checked={editIsConcept}\n                      onChange={(e) => setEditIsConcept(e.target.checked)}\n                    />\n                    Concept\n                  </label>\n                </div>\n\n                <div className=\"flex flex-col gap-1\">\n                  <label className=\"text-xs text-gray-600\">\n                    Tags (comma separated)\n                  </label>\n                  <input\n                    value={editTags}\n                    onChange={(e) => setEditTags(e.target.value)}\n                    className=\"border rounded px-2 py-1.5 text-sm\"\n                    placeholder=\"breakfast, cereal, kids\"\n                  />\n                </div>\n\n                <div className=\"space-y-3\">\n                  <h3 className=\"text-xs font-semibold uppercase text-gray-700\">\n                    Variants\n                  </h3>\n                  <p className=\"text-[11px] text-gray-600\">\n                    Edit prices and stock, or add new variants. Leave label/price\n                    empty to ignore a row.\n                  </p>\n\n                  <div className=\"space-y-2 max-h-[40vh] overflow-y-auto pr-1\">\n                    {variantRows.map((v, idx) => (\n                      <div\n                        key={idx}\n                        className=\"border rounded px-3 py-2 grid gap-2 grid-cols-4 text-xs\"\n                      >\n                        <div className=\"flex flex-col gap-1 col-span-1\">\n                          <label className=\"text-[11px] text-gray-600\">\n                            Label\n                          </label>\n                          <input\n                            value={v.label}\n                            onChange={(e) => {\n                              const val = e.target.value;\n                              setVariantRows((prev) => {\n                                const copy = [...prev];\n                                copy[idx] = { ...copy[idx], label: val };\n                                return copy;\n                              });\n                            }}\n                            className=\"border rounded px-2 py-1\"\n                            placeholder=\"500g\"\n                          />\n                        </div>\n                        <div className=\"flex flex-col gap-1\">\n                          <label className=\"text-[11px] text-gray-600\">\n                            Price\n                          </label>\n                          <input\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.01\"\n                            value={v.price}\n                            onChange={(e) => {\n                              const val = e.target.value;\n                              setVariantRows((prev) => {\n                                const copy = [...prev];\n                                copy[idx] = { ...copy[idx], price: val };\n                                return copy;\n                              });\n                            }}\n                            className=\"border rounded px-2 py-1\"\n                            placeholder=\"3.50\"\n                          />\n                        </div>\n                        <div className=\"flex flex-col gap-1\">\n                          <label className=\"text-[11px] text-gray-600\">MRP</label>\n                          <input\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"0.01\"\n                            value={v.mrp}\n                            onChange={(e) => {\n                              const val = e.target.value;\n                              setVariantRows((prev) => {\n                                const copy = [...prev];\n                                copy[idx] = { ...copy[idx], mrp: val };\n                                return copy;\n                              });\n                            }}\n                            className=\"border rounded px-2 py-1\"\n                            placeholder=\"4.00\"\n                          />\n                        </div>\n                        <div className=\"flex flex-col gap-1\">\n                          <label className=\"text-[11px] text-gray-600\">\n                            Stock\n                          </label>\n                          <input\n                            type=\"number\"\n                            min=\"0\"\n                            step=\"1\"\n                            value={v.stock}\n                            onChange={(e) => {\n                              const val = e.target.value;\n                              setVariantRows((prev) => {\n                                const copy = [...prev];\n                                copy[idx] = { ...copy[idx], stock: val };\n                                return copy;\n                              });\n                            }}\n                            className=\"border rounded px-2 py-1\"\n                            placeholder=\"100\"\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n\n<button\n  type=\"button\"\n  onClick={() =>\n    setVariantRows((prev) => [\n      ...prev,\n      { label: \"\", price: \"\", mrp: \"\", stock: \"\", sku: \"\" },\n    ])\n  }\n  className=\"text-[11px] px-3 py-1.5 border border-dashed rounded text-gray-700\"\n>\n  + Add variant\n</button>\n                </div>\n\n                <div className=\"flex justify-end pt-2\">\n                  <button\n                    type=\"submit\"\n                    disabled={saving}\n                    className=\"px-4 py-2 text-sm rounded bg-blue-600 text-white disabled:opacity-60\"\n                  >\n                    {saving ? \"Saving...\" : \"Save changes\"}\n                  </button>\n                </div>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}}]
}