{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/lib/localOrders.ts"],"sourcesContent":["export type PaymentMethod =\n  | \"EVC\"\n  | \"MERCHANT\"\n  | \"EDAHAB\"\n  | \"PREMIER_WALLET\"\n  | \"AMTEL\";\n\nexport type LocalOrderItem = {\n  productId: number;\n  variantId: number | null;\n  qty: number;\n  unitPrice: number;\n  lineTotal: number;\n  name: string; // includes variant label e.g. \"Basmati Rice (5 kg)\"\n};\n\nexport type LocalOrder = {\n  id: string;\n  createdAt: string; // ISO\n  channel: \"local\";\n\n  customer: { id: number; name: string; phone: string } | null;\n\n  note?: string;\n\n  subtotal: number;\n  deliveryFee: number;\n  total: number;\n\n  // NEW\n  isCredit: boolean;              // true = unpaid credit\n  isPaid: boolean;                // false when credit\n  paymentMethod: PaymentMethod | null; // only when paid (or non-credit)\n  paidAt?: string;                // when marked paid\n\n  items: LocalOrderItem[];\n};\n\nexport type CreditLedgerRow = {\n  customerId: number;\n  name: string;\n  phone: string;\n  outstanding: number; // current due\n  lastOrderAt: string; // ISO\n};\n\nconst ORDERS_KEY = \"local_orders_v2\";\nconst CREDIT_KEY = \"credit_ledger_v1\";\n\n/* ===== Orders ===== */\nexport function readLocalOrders(): LocalOrder[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    return JSON.parse(localStorage.getItem(ORDERS_KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n}\n\nexport function writeLocalOrders(orders: LocalOrder[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(ORDERS_KEY, JSON.stringify(orders));\n}\n\nexport function saveLocalOrder(order: LocalOrder) {\n  const all = readLocalOrders();\n  all.unshift(order);\n  writeLocalOrders(all);\n}\n\nexport function updateLocalOrder(orderId: string, patch: Partial<LocalOrder>) {\n  const all = readLocalOrders();\n  const idx = all.findIndex((o) => o.id === orderId);\n  if (idx === -1) return;\n  all[idx] = { ...all[idx], ...patch };\n  writeLocalOrders(all);\n}\n\nexport function clearLocalOrders() {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(ORDERS_KEY);\n}\n\n/* ===== Credit ledger ===== */\nexport function readCreditLedger(): CreditLedgerRow[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    return JSON.parse(localStorage.getItem(CREDIT_KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n}\n\nexport function writeCreditLedger(rows: CreditLedgerRow[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(CREDIT_KEY, JSON.stringify(rows));\n}\n\nexport function addCredit(customer: { id: number; name: string; phone: string }, amount: number) {\n  const rows = readCreditLedger();\n  const idx = rows.findIndex((r) => r.customerId === customer.id);\n  const now = new Date().toISOString();\n\n  if (idx === -1) {\n    rows.unshift({\n      customerId: customer.id,\n      name: customer.name,\n      phone: customer.phone,\n      outstanding: Number(amount || 0),\n      lastOrderAt: now,\n    });\n  } else {\n    rows[idx] = {\n      ...rows[idx],\n      outstanding: Number(rows[idx].outstanding || 0) + Number(amount || 0),\n      lastOrderAt: now,\n    };\n  }\n  writeCreditLedger(rows);\n}\n\nexport function payCredit(customerId: number, amount: number) {\n  const rows = readCreditLedger();\n  const idx = rows.findIndex((r) => r.customerId === customerId);\n  if (idx === -1) return;\n\n  const newOutstanding = Math.max(0, Number(rows[idx].outstanding || 0) - Number(amount || 0));\n  rows[idx] = { ...rows[idx], outstanding: newOutstanding };\n  writeCreditLedger(rows);\n}\n\nexport function totalCreditDue(): number {\n  return readCreditLedger().reduce((sum, r) => sum + Number(r.outstanding || 0), 0);\n}\n\nexport function clearCreditLedger() {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(CREDIT_KEY);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AA8CA,MAAM,aAAa;AACnB,MAAM,aAAa;AAGZ,SAAS;IACd;;IACA,IAAI;QACF,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe;IACxD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,SAAS,iBAAiB,MAAoB;IACnD;;IACA,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;AAClD;AAEO,SAAS,eAAe,KAAiB;IAC9C,MAAM,MAAM;IACZ,IAAI,OAAO,CAAC;IACZ,iBAAiB;AACnB;AAEO,SAAS,iBAAiB,OAAe,EAAE,KAA0B;IAC1E,MAAM,MAAM;IACZ,MAAM,MAAM,IAAI,SAAS,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC1C,IAAI,QAAQ,CAAC,GAAG;IAChB,GAAG,CAAC,IAAI,GAAG;QAAE,GAAG,GAAG,CAAC,IAAI;QAAE,GAAG,KAAK;IAAC;IACnC,iBAAiB;AACnB;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;AAC1B;AAGO,SAAS;IACd;;IACA,IAAI;QACF,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,eAAe;IACxD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,SAAS,kBAAkB,IAAuB;IACvD;;IACA,aAAa,OAAO,CAAC,YAAY,KAAK,SAAS,CAAC;AAClD;AAEO,SAAS,UAAU,QAAqD,EAAE,MAAc;IAC7F,MAAM,OAAO;IACb,MAAM,MAAM,KAAK,SAAS,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK,SAAS,EAAE;IAC9D,MAAM,MAAM,IAAI,OAAO,WAAW;IAElC,IAAI,QAAQ,CAAC,GAAG;QACd,KAAK,OAAO,CAAC;YACX,YAAY,SAAS,EAAE;YACvB,MAAM,SAAS,IAAI;YACnB,OAAO,SAAS,KAAK;YACrB,aAAa,OAAO,UAAU;YAC9B,aAAa;QACf;IACF,OAAO;QACL,IAAI,CAAC,IAAI,GAAG;YACV,GAAG,IAAI,CAAC,IAAI;YACZ,aAAa,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,OAAO,UAAU;YACnE,aAAa;QACf;IACF;IACA,kBAAkB;AACpB;AAEO,SAAS,UAAU,UAAkB,EAAE,MAAc;IAC1D,MAAM,OAAO;IACb,MAAM,MAAM,KAAK,SAAS,CAAC,CAAC,IAAM,EAAE,UAAU,KAAK;IACnD,IAAI,QAAQ,CAAC,GAAG;IAEhB,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,OAAO,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,KAAK,OAAO,UAAU;IACzF,IAAI,CAAC,IAAI,GAAG;QAAE,GAAG,IAAI,CAAC,IAAI;QAAE,aAAa;IAAe;IACxD,kBAAkB;AACpB;AAEO,SAAS;IACd,OAAO,mBAAmB,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,WAAW,IAAI,IAAI;AACjF;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;AAC1B"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/lib/payments.ts"],"sourcesContent":["export type PaymentMethod =\n  | \"EVC\"\n  | \"MERCHANT\"\n  | \"EDAHAB\"\n  | \"PREMIER_WALLET\"\n  | \"AMTEL\";\n\nexport type PaymentSource = \"SALE\" | \"CREDIT_PAYMENT\" | \"CREDIT_SETTLEMENT\";\n\nexport type PaymentRecord = {\n  id: string; // PAY-...\n  createdAt: string; // ISO\n  method: PaymentMethod;\n  amount: number;\n\n  source: PaymentSource;\n\n  // optional linking\n  orderId?: string;\n  customer?: { id: number; name: string; phone: string };\n\n  note?: string;\n};\n\nconst KEY = \"payments_ledger_v1\";\n\nexport function readPayments(): PaymentRecord[] {\n  if (typeof window === \"undefined\") return [];\n  try {\n    return JSON.parse(localStorage.getItem(KEY) || \"[]\");\n  } catch {\n    return [];\n  }\n}\n\nexport function writePayments(rows: PaymentRecord[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(KEY, JSON.stringify(rows));\n}\n\nexport function recordPayment(p: Omit<PaymentRecord, \"id\" | \"createdAt\">) {\n  const rows = readPayments();\n  rows.unshift({\n    id: `PAY-${Date.now()}`,\n    createdAt: new Date().toISOString(),\n    ...p,\n    amount: Number(p.amount || 0),\n  });\n  writePayments(rows);\n}\n\nexport function clearPayments() {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(KEY);\n}\n"],"names":[],"mappings":";;;;;;;;;;AAwBA,MAAM,MAAM;AAEL,SAAS;IACd;;IACA,IAAI;QACF,OAAO,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,QAAQ;IACjD,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEO,SAAS,cAAc,IAAqB;IACjD;;IACA,aAAa,OAAO,CAAC,KAAK,KAAK,SAAS,CAAC;AAC3C;AAEO,SAAS,cAAc,CAA0C;IACtE,MAAM,OAAO;IACb,KAAK,OAAO,CAAC;QACX,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;QACvB,WAAW,IAAI,OAAO,WAAW;QACjC,GAAG,CAAC;QACJ,QAAQ,OAAO,EAAE,MAAM,IAAI;IAC7B;IACA,cAAc;AAChB;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;AAC1B"}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/a./mato1/app/credits/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n  readCreditLedger,\n  payCredit,\n  totalCreditDue,\n  type CreditLedgerRow,\n  type PaymentMethod,\n} from \"@/lib/localOrders\";\nimport { recordPayment } from \"@/lib/payments\";\n\nfunction formatGBP(n: number) {\n  return new Intl.NumberFormat(\"en-GB\", { style: \"currency\", currency: \"GBP\" }).format(n);\n}\n\nconst QUICK_AMOUNTS = [5, 10, 20, 50];\n\nconst PRIMARY_METHODS: PaymentMethod[] = [\"EVC\", \"MERCHANT\", \"EDAHAB\"];\nconst MORE_METHODS: PaymentMethod[] = [\"PREMIER_WALLET\", \"AMTEL\"];\n\nfunction labelPM(m: PaymentMethod) {\n  if (m === \"EVC\") return \"EVC\";\n  if (m === \"MERCHANT\") return \"Merchant\";\n  if (m === \"EDAHAB\") return \"E-Dahab\";\n  if (m === \"PREMIER_WALLET\") return \"Premier Wallet\";\n  return \"Amtel\";\n}\n\nexport default function CreditsPage() {\n  const [rows, setRows] = useState<CreditLedgerRow[]>([]);\n  const [q, setQ] = useState(\"\");\n  const [totalDue, setTotalDue] = useState(0);\n\n  const [paying, setPaying] = useState<CreditLedgerRow | null>(null);\n  const [customAmount, setCustomAmount] = useState<string>(\"\");\n\n  const [method, setMethod] = useState<PaymentMethod>(\"EVC\");\n  const [showMore, setShowMore] = useState(false);\n\n  function refresh() {\n    const ledger = readCreditLedger()\n      .slice()\n      .filter((r) => Number(r.outstanding || 0) > 0)\n      .sort((a, b) => {\n        const d = Number(b.outstanding || 0) - Number(a.outstanding || 0);\n        if (d !== 0) return d;\n        return new Date(b.lastOrderAt).getTime() - new Date(a.lastOrderAt).getTime();\n      });\n\n    setRows(ledger);\n    setTotalDue(totalCreditDue());\n  }\n\n  useEffect(() => {\n    refresh();\n  }, []);\n\n  const filtered = useMemo(() => {\n    const s = q.trim().toLowerCase();\n    if (!s) return rows;\n    return rows.filter((r) => (r.name ?? \"\").toLowerCase().includes(s) || String(r.phone ?? \"\").toLowerCase().includes(s));\n  }, [rows, q]);\n\n  function openPay(row: CreditLedgerRow) {\n    setPaying(row);\n    setCustomAmount(\"\");\n    setMethod(\"EVC\");\n    setShowMore(false);\n  }\n\n  function closePay() {\n    setPaying(null);\n    setCustomAmount(\"\");\n  }\n\n  function doPay(amount: number) {\n    if (!paying) return;\n\n    const due = Number(paying.outstanding || 0);\n    const payAmt = Number(amount || 0);\n    if (!Number.isFinite(payAmt) || payAmt <= 0) return;\n\n    const finalAmt = Math.min(due, payAmt);\n\n    // subtract from ledger\n    payCredit(paying.customerId, finalAmt);\n\n    // record payment event\n    recordPayment({\n      source: \"CREDIT_PAYMENT\",\n      method,\n      amount: finalAmt,\n      customer: { id: paying.customerId, name: paying.name, phone: paying.phone },\n      note: due - finalAmt === 0 ? \"Credit fully paid\" : \"Partial credit payment\",\n    });\n\n    closePay();\n    refresh();\n  }\n\n  function payCustom() {\n    const n = Number(customAmount);\n    if (!Number.isFinite(n) || n <= 0) return;\n    doPay(n);\n  }\n\n  return (\n    <main className=\"min-h-screen bg-white text-black\">\n      <div className=\"sticky top-0 z-20 bg-white border-b\">\n        <div className=\"max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-3\">\n          <div className=\"flex items-center gap-3\">\n            <Link href=\"/\" className=\"text-sm text-blue-600 hover:underline\">← Home</Link>\n            <h1 className=\"text-lg font-semibold\">Credits</h1>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            <Link href=\"/orders\" className=\"h-9 px-3 rounded-full border text-sm font-semibold hover:bg-gray-50\">\n              Orders\n            </Link>\n            <Link href=\"/payments\" className=\"h-9 px-3 rounded-full border text-sm font-semibold hover:bg-gray-50\">\n              Payments\n            </Link>\n            <button onClick={refresh} className=\"h-9 px-3 rounded-full border text-sm font-semibold hover:bg-gray-50\">\n              Refresh\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <section className=\"max-w-6xl mx-auto px-4 pt-5\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n          <div className=\"border rounded-2xl p-4 bg-[#FFF7ED]\">\n            <div className=\"text-xs text-orange-800\">Total credit due</div>\n            <div className=\"mt-1 text-2xl font-extrabold text-orange-900\">{formatGBP(totalDue)}</div>\n            <div className=\"mt-1 text-sm text-orange-900\">{rows.length} customer(s)</div>\n          </div>\n\n          <div className=\"border rounded-2xl p-4\">\n            <div className=\"text-xs text-gray-600\">Search</div>\n            <input\n              value={q}\n              onChange={(e) => setQ(e.target.value)}\n              placeholder=\"Type name or phone (e.g. Hodan / 0622)\"\n              className=\"mt-2 w-full border rounded-xl px-3 py-2\"\n            />\n            <div className=\"mt-2 text-xs text-gray-500\">\n              Showing <span className=\"font-semibold\">{filtered.length}</span> of{\" \"}\n              <span className=\"font-semibold\">{rows.length}</span>.\n            </div>\n          </div>\n\n          <div className=\"border rounded-2xl p-4\">\n            <div className=\"text-xs text-gray-600\">Quick links</div>\n            <div className=\"mt-3 flex flex-wrap gap-2\">\n              <Link href=\"/cart\" className=\"h-9 px-3 rounded-full border text-sm font-semibold hover:bg-gray-50\">\n                Cart\n              </Link>\n              <Link href=\"/payments\" className=\"h-9 px-3 rounded-full border text-sm font-semibold hover:bg-gray-50\">\n                Payments\n              </Link>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"max-w-6xl mx-auto px-4 py-6\">\n        {filtered.length === 0 ? (\n          <div className=\"border rounded-2xl p-8 text-center\">\n            <div className=\"text-3xl\">✅</div>\n            <p className=\"mt-3 font-semibold\">No credits found</p>\n            <p className=\"text-sm text-gray-600 mt-1\">No credit customers or no match.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {filtered.map((r) => {\n              const last = new Date(r.lastOrderAt).toLocaleString();\n              const due = Number(r.outstanding || 0);\n              return (\n                <div key={r.customerId} className=\"border rounded-2xl p-4\">\n                  <div className=\"flex items-start justify-between gap-3\">\n                    <div className=\"min-w-0\">\n                      <div className=\"text-sm font-semibold truncate\">{r.name} • {r.phone}</div>\n                      <div className=\"text-xs text-gray-600 mt-1\">Last credit order: {last}</div>\n                    </div>\n\n                    <div className=\"text-right\">\n                      <div className=\"text-lg font-extrabold text-orange-900\">{formatGBP(due)}</div>\n                      <button onClick={() => openPay(r)} className=\"mt-2 h-9 px-4 rounded-full bg-[#0B6EA9] text-white text-sm font-semibold\">\n                        Pay now\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </section>\n\n      {paying ? (\n        <div className=\"fixed inset-0 bg-black/30 z-50 grid place-items-center p-4\">\n          <div className=\"bg-white rounded-2xl w-full max-w-md p-5 border shadow\">\n            <div className=\"text-lg font-semibold\">Pay credit</div>\n            <div className=\"mt-1 text-sm text-gray-600\">{paying.name} • {paying.phone}</div>\n\n            <div className=\"mt-3 rounded-xl border bg-[#FFF7ED] px-3 py-2 flex items-center justify-between\">\n              <div className=\"text-sm font-semibold text-orange-800\">Outstanding</div>\n              <div className=\"text-sm font-extrabold text-orange-900\">\n                {formatGBP(Number(paying.outstanding || 0))}\n              </div>\n            </div>\n\n            {/* Payment method */}\n            <div className=\"mt-4\">\n              <div className=\"text-xs text-gray-600 mb-2\">Payment method</div>\n              <div className=\"flex flex-wrap gap-2\">\n                {PRIMARY_METHODS.map((m) => {\n                  const active = method === m;\n                  return (\n                    <button\n                      key={m}\n                      onClick={() => setMethod(m)}\n                      className={`h-9 px-4 rounded-full border text-sm font-semibold ${\n                        active ? \"border-[#0B6EA9] bg-[#EAF4FB] text-[#0B6EA9]\" : \"bg-white\"\n                      }`}\n                    >\n                      {labelPM(m)}\n                    </button>\n                  );\n                })}\n\n                <button\n                  onClick={() => setShowMore((v) => !v)}\n                  className=\"h-9 px-4 rounded-full border text-sm font-semibold bg-white\"\n                >\n                  {showMore ? \"Show less\" : \"Show more\"}\n                </button>\n\n                {showMore\n                  ? MORE_METHODS.map((m) => {\n                      const active = method === m;\n                      return (\n                        <button\n                          key={m}\n                          onClick={() => setMethod(m)}\n                          className={`h-9 px-4 rounded-full border text-sm font-semibold ${\n                            active ? \"border-[#0B6EA9] bg-[#EAF4FB] text-[#0B6EA9]\" : \"bg-white\"\n                          }`}\n                        >\n                          {labelPM(m)}\n                        </button>\n                      );\n                    })\n                  : null}\n              </div>\n            </div>\n\n            {/* Quick amounts */}\n            <div className=\"mt-4\">\n              <div className=\"text-xs text-gray-600 mb-2\">Quick amounts</div>\n              <div className=\"flex flex-wrap gap-2\">\n                {QUICK_AMOUNTS.map((amt) => (\n                  <button\n                    key={amt}\n                    onClick={() => doPay(amt)}\n                    className=\"h-9 px-4 rounded-full border text-sm font-semibold hover:bg-gray-50\"\n                  >\n                    {formatGBP(amt)}\n                  </button>\n                ))}\n\n                <button\n                  onClick={() => doPay(Number(paying.outstanding || 0))}\n                  className=\"h-9 px-4 rounded-full bg-green-600 text-white text-sm font-semibold\"\n                >\n                  Pay full\n                </button>\n              </div>\n            </div>\n\n            {/* Custom amount */}\n            <div className=\"mt-4\">\n              <div className=\"text-xs text-gray-600 mb-2\">Custom amount</div>\n              <div className=\"flex gap-2\">\n                <input\n                  value={customAmount}\n                  onChange={(e) => setCustomAmount(e.target.value)}\n                  placeholder=\"e.g. 7.5\"\n                  inputMode=\"decimal\"\n                  className=\"flex-1 border rounded-xl px-3 py-2\"\n                />\n                <button onClick={payCustom} className=\"h-10 px-4 rounded-xl bg-[#0B6EA9] text-white font-semibold\">\n                  Pay\n                </button>\n              </div>\n              <div className=\"mt-2 text-xs text-gray-500\">\n                Paying more than due will only pay up to the due amount.\n              </div>\n            </div>\n\n            <div className=\"mt-6 flex gap-2 justify-end\">\n              <button onClick={closePay} className=\"h-10 px-4 rounded-full border font-semibold\">\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}